<!doctype html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="xdocs-url-prefix" content="{{PAGE_URL_PREFIX}}">
</head>
<body>

<script>
  const searchData = JSON.parse("[{\"title\":\"Вступ\",\"content\":\"# Часопис\\n\\n<subject>Часопис Мавки</subject> зберігає різну текстову інформацію, що стосується <subject>Мавки</subject>. Новини,\\nоновлення, інструкції, деталі, цікавинки й т.д.\\n\\nДодати свій допис можна [тут](https://github.com/mavka-ukr/chasopys).\",\"path\":\"index.html\"},{\"title\":\"Теорія Мавки і керування памʼятю\",\"content\":\"# Теорія Мавки і керування памʼятю\\n\\n<subject>Теорія Мавки</subject> не просто красива. <subject>Теорія Мавки</subject> цікавий інструмент для опису різних\\nконцептів програмування.\\n\\nОсь, наприклад, пояснення різних способів керування памʼятю використовуючи <subject>Теорію Мавки</subject>:\\n\\n1. Обʼєкт існує доти доки є субʼєктом хоч одного середовища. Або іншими словами, коли жоден субʼєкт не вказує на якийсь\\n   обʼєкт, то цей обʼєкт рахується як непотрібний і утилізатор може сміло його звільняти. Це як в <subject>\\n   Мавці</subject> чи JavaScript.\\n\\n2. Обʼєкт існує незалежно від того, в скількох середовищах він є субʼєктом. Програміст має самостійно вказувати коли\\n   звільняти обʼєкт і впевнитись що жоден субʼєкт не вказує на цей обʼєкт. Це як в <subject>Цілі</subject> чи C під час\\n   використання\\n   malloc.\\n\\n3. На один обʼєкт лише один субʼєкт. Програміст має вручну вказувати переміщення обʼєкта в середовищі чи між\\n   середовищами. Якщо програміст не перемістить обʼєкт, то він звільниться разом із видаленням субʼєкта. Щось схоже є в\\n   Rust.\\n\\n> Властивість обʼєкта теж є субʼєктом, відповідно обʼєкт можна вважати середовищем, як і середовище обʼєктом\\n\\n---\\n\\n_Написав [Давид](https://кдб.укр). Опубліковано 04.12.2024._\",\"path\":\"2024-12-04-керування-памʼятю-і-теорія-мавки.html\"},{\"title\":\"Створюємо розширення Мавки\",\"content\":\"# Як створити просте розширення Мавки?\\n\\n<subject>Мавку</subject>, ще з часів JavaScript версії, можна розширювати. Раніше, очевидно, за допомогою JavaScript. На\\nщастя, <subject>Мавка</subject> вже відійша від JS, тому сьогодні розширюватимемо за допомогою <subject>Цілі</subject>.\\n\\nУ цьому дописі я покажу як просто можна виконувати код на <subject>Цілі</subject> з <subject>Мавки</subject>. Але навіть\\nбільше — код на C++ через <subject>Ціль</subject> з <subject>Мавки</subject>.\\n\\nОтож, поїхали. Для цього нам будуть треба останні версії <subject>Мавки</subject>, <subject>Цілі</subject> та Clang++.\\nНа момент написання\\nцього допису в мене\\nверсія <subject>[Мавки 0.112.0](https://xn--80ae5bu9f.xn--80aaf6ah.xn--j1amh/%D0%B2%D0%B8%D0%BF%D1%83%D1%81%D0%BA-%D0%BC%D0%B0%D0%B2%D0%BA%D0%B8-0.112.0.html)</subject>,\\nверсія <subject>[Цілі 0.31.0](https://xn--80ae5bu9f.xn--k1avt2b.xn--j1amh/%D0%B2%D0%B8%D0%BF%D1%83%D1%81%D0%BA-%D1%86%D1%96%D0%BB%D1%96-0.31.0.html)</subject>\\nта Clang++ 18.\\n\\nТакож треба завантажити файл `РМв1.в`\\n(наприклад з [GitHub-у](https://github.com/mavka-ukr/mavka/blob/main/%D0%B2%D0%B8%D0%B7%D0%BD%D0%B0%D1%87%D0%B5%D0%BD%D0%BD%D1%8F/%D0%A0%D0%9C%D0%B21.%D0%B2)).\\n\\nСтруктура директорії проекту буде така:\\n\\n```\\nрозширення_мавки_сума/\\n├─ РМв1.в\\n├─ sum_mavka_extension.cpp\\n├─ розширення_мавки_сума.ll\\n├─ розширення_мавки_сума.so\\n├─ розширення_мавки_сума.ц\\n└─ тест_розширення_сума.м\\n```\\n\\nСтворюємо файл `sum_mavka_extension.cpp` з наступним вмістом:\\n\\n```cpp\\nextern \\\"C\\\" double mavka_extension_sum(double a, double b) {\\n  return a + b;\\n}\\n```\\n\\nСтворюємо файл `розширення_мавки_сума.ц` з наступним вмістом:\\n\\n```tsil\\nвзяти визначення РМв1;\\n\\nзовнішня дія mavka_extension_sum(a: double, b: double): double;\\n\\nдія нативна_дія_сума(обʼєкт_нативної_дії: адреса<РМв1::Обʼєкт>, Р: адреса<РМв1::Розширення>, обʼєкт_я: адреса<РМв1::Обʼєкт>, кількість_аргументів: позитивне, аргументи: памʼять<адреса<РМв1::Обʼєкт>>, іменовані_аргументи: адреса<РМв1::ІменованіАргументи>, дані: адреса): РМв1::Результат {\\n  змінна ціль знайдено_аргумент_а = ні;\\n  змінна ціль аргумент_а: адреса<РМв1::Обʼєкт> = пусто;\\n  змінна ціль знайдено_аргумент_б = ні;\\n  змінна ціль аргумент_б: адреса<РМв1::Обʼєкт> = пусто;\\n  якщо іменовані_аргументи != пусто {\\n    знайдено_аргумент_а = РМв1::знайти_іменований_аргумент(Р, іменовані_аргументи, РМв1::назва_з_Ю8(Р, ю8\\\"а\\\"), аргумент_а::адреса);\\n    знайдено_аргумент_б = РМв1::знайти_іменований_аргумент(Р, іменовані_аргументи, РМв1::назва_з_Ю8(Р, ю8\\\"б\\\"), аргумент_б::адреса);\\n  }\\n  якщо кількість_аргументів > 0 {\\n    якщо знайдено_аргумент_а == ні {\\n      знайдено_аргумент_а = так;\\n      аргумент_а = аргументи[0];\\n    }\\n    якщо кількість_аргументів > 1 {\\n      якщо знайдено_аргумент_б == ні {\\n        знайдено_аргумент_б = так;\\n        аргумент_б = аргументи[1];\\n      }\\n    }\\n  }\\n  якщо знайдено_аргумент_а == ні {\\n    вернути РМв1::падіння(Р, РМв1::створити_текст_з_Ю8(Р, ю8\\\"Пропущено аргумент \\\\\\\"а\\\\\\\"\\\"));\\n  }\\n  якщо знайдено_аргумент_б == ні {\\n    вернути РМв1::падіння(Р, РМв1::створити_текст_з_Ю8(Р, ю8\\\"Пропущено аргумент \\\\\\\"б\\\\\\\"\\\"));\\n  }\\n  якщо РМв1::перевірити_чи_обʼєкт_є_числом(аргумент_а, Р) == ні {\\n    вернути РМв1::падіння(Р, РМв1::створити_текст_з_Ю8(Р, ю8\\\"Аргумент \\\\\\\"а\\\\\\\" має бути числом\\\"));\\n  }\\n  якщо РМв1::перевірити_чи_обʼєкт_є_числом(аргумент_б, Р) == ні {\\n    вернути РМв1::падіння(Р, РМв1::створити_текст_з_Ю8(Р, ю8\\\"Аргумент \\\\\\\"б\\\\\\\" має бути числом\\\"));\\n  }\\n  ціль а = РМв1::отримати_значення_числа(аргумент_а, Р);\\n  ціль б = РМв1::отримати_значення_числа(аргумент_б, Р);\\n  ціль результат = mavka_extension_sum(а, б);\\n  вернути РМв1::успіх(Р, РМв1::створити_число(Р, результат));\\n}\\n\\nзовнішня дія завантажити_РМв1(Р: адреса<РМв1::Розширення>): РМв1::Результат {\\n  ціль обʼєкт_нативної_дії_сума = РМв1::створити_нативну_дію(Р, РМв1::назва_з_Ю8(Р, ю8\\\"сума\\\"), нативна_дія_сума, пусто, пусто);\\n  вернути РМв1::успіх(Р, обʼєкт_нативної_дії_сума);\\n}\\n```\\n\\nКомпілюємо shared object `розширення_мавки_сума.so` за допомогою наступних команд:\\n\\n```shell\\nціль розширення_мавки_сума.ll скомпілювати розширення_мавки_сума.ц\\n```\\n\\n```shell\\nclang++ -shared -fPIC -o розширення_мавки_сума.so розширення_мавки_сума.ll sum_mavka_extension.cpp\\n```\\n\\nСтворюємо модуль <subject>Мавки</subject> `тест_розширення_сума.м`:\\n\\n```мавка\\nвзяти біб мавка\\n\\nсума = мавка.завантажити_РМв1(ю\\\"./розширення_мавки_сума.so\\\")\\nдрук(сума(2, 2))\\n```\\n\\nПробуємо:\\n\\n```shell\\nмавка тест_розширення_сума.м\\n```\\n\\nМає надрукувати `4`.\\n\\nОтож, як видно, виконувати нативний код на <subject>Цілі</subject> чи C++ з <subject>Мавки</subject> дуже просто.\\nГоловне розібратись з файлом `РМв1.в` та розуміти <subject>Ціль</subject>.\\n\\n---\\n\\n_Написав [Давид](https://кдб.укр). Опубліковано 01.12.2024. Оновлено 10.12.2024._\",\"path\":\"2024-12-01-створюємо-розширення-мавки.html\"},{\"title\":\"У Мавки реформа!\",\"content\":\"# У Мавки реформа!\\n\\nБуло оновлено вебсайт. Тепер він більш структурований, статичний та простий.\\n\\nБільшість вмісту вебсайту тепер зберігається в майже чистому текстовому форматі (наразі Markdown), який скриптом\\nперетворюється в HTML. Окрім того, що <keyword>це</keyword> дозволяє концентруватись на самому тексті під час\\nредагування, <keyword>це</keyword> також\\nу майбутньому дозволить легко перетворювати документацію на власний формат візуальних документів.\\n\\n<subject>Документацію</subject> було повністю переписано. Більш точно розділено <subject>Практику\\nМавки</subject>, <subject>Теорію\\nМавки</subject> та вбудовані визначення <subject>Мавки</subject>. Ще не все добре описано, але\\nінформація тепер має читатись та сприйматись краще.\\n\\n<subject>Документація</subject> відтепер буде включатись у випуски <subject>Мавки</subject>.\\n\\nДодано нові\\nвебресурси: <subject>[Архів Мавки](https://архів.мавка.укр)</subject>, <subject>[Часопис Мавки](https://мавка.укр/часопис/index.html)</subject>,\\n<subject>[Інформація Мавки](https://мавка.укр/інформація/index.html)</subject>.\\n\\n<subject>Бібліотеку Мавки</subject> очищено — тепер вона націлена на надання лише основних необхідних\\nмодулів\\n(Математика, <subject>Дід</subject> та ще деякі\\nзгодом). Всі решта передаються творцям паків.\\n\\nПочато працю над новим [пак.укр](https://пак.укр). Код згодом буде відкритий, можна буде долучитись\\nна [GitHub-і](https://github.com/mavka-ukr/pak-ukr).\\n\\nВебресурси [бавитись.мавка.укр](https://бавитись.мавка.укр) та [фрагмент.укр](https://фрагмент.укр)\\nпоставлені на паузу підтримки. Їх не планується оновлювати\\nнайближчі 6 місяців. Вони працюватимуть й далі в такому вигляді як зараз.\\n\\nРозробка <subject>Машини Мавки</subject> та самої <subject>Мавки</subject> ведеться на приватному\\ngit-сервері. Попри <keyword>це</keyword>,\\n<subject>Код Мавки</subject> є відкритим. На GitHub-і ж\\nнатомість знаходиться лише bug-tracker — тобто проблеми, питання та пропозиції треба писати там. На\\nGitHub-і\\nв цілому ведеться розробка і публікація лише тих проектів, які не є під <subject>\\nПравом\\nАвтора</subject>.\\n\\nСхожі зміни планується застосувати й для <subject>[Цілі](https://ціль.укр)</subject>.\\n\\nНадалі я хочу сконцентруватись над <subject>Машиною Мавки</subject>, <subject>Мавкою</subject>,\\n<subject>Компілятором Цілі</subject>, <subject>Ціллю</subject> та основою нового\\nпрограмування.\\n\\n---\\n\\n_Написав [Давид](https://кдб.укр). Опубліковано 08.09.2024._\",\"path\":\"2024-09-08-реформа.html\"}]");

  window.addEventListener("message", (event) => {
    const eventData = event.data;
    const eventId = eventData.id;
    const eventType = eventData.type;
    if (eventType === "search") {
      const query = eventData.query;
      const results = searchData.filter((item) => {
        return item.title.toLowerCase().includes(query.toLowerCase());
      });
      window.parent.postMessage(
        {
          id: eventId,
          result: results
        },
        "*"
      );
    }
  });
</script>
</body>
</html>